<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">


	<ui:define name="title">MallaCinema - Home</ui:define>
	<ui:define name="content">
		<f:view contentType="text/html">
			<p:layoutUnit position="center"
				header="Connected as, #{identity.identifiedUser}"
				styleClass="no-borders">

				<h3>public random sessions for manager</h3>
				<script type="text/javascript">
					window.onload = function() {
						 PF('geoMap').geocode(document.getElementById('address').value);
					};
				   
  				</script>
				<script type="text/javascript"
					src="http://maps.google.com/maps/api/js?key=AIzaSyAgPtJCPW30ljBskPp3XBatbPgb8q3q4O4"/>
					
				<h:form prependId="false">

					<h3 style="margin-top: 0">Geocode</h3>
					<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
						<p:outputLabel for="address" value="Address:" />
						<p:inputText id="address" value="#{managerDetails.identifiedManagerTheater.adresse}" />
<!-- 						<p:commandButton value="Geocode" icon="ui-icon-search" -->
<!-- 							onclick="geocode()" type="button" /> -->
					</h:panelGrid>

					<p:gmap id="geoGmap" widgetVar="geoMap"
						center="#{geocodeView.centerGeoMap}" zoom="15" type="HYBRID"
						model="#{geocodeView.geoModel}" style="width:250px;height:250px">
						<p:ajax event="geocode" listener="#{geocodeView.onGeocode}"
							update="@this" />
					</p:gmap>

				</h:form>
			</p:layoutUnit>
		</f:view>

	</ui:define>

</ui:composition>
